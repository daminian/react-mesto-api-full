{"version":3,"sources":["images/logo.svg","images/success.svg","images/error.svg","components/Footer.js","contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/ProtectedRoute.js","utils/mestoAuth.js","components/App.js","index.js"],"names":["module","exports","Footer","className","CurrentUserContext","React","createContext","Header","onLinkClick","currentUser","useContext","src","logo","alt","path","to","exact","email","onClick","Card","card","onCardClick","onCardLike","onCardDelete","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","about","map","item","key","PopupWithForm","title","cildren","isOpen","onClose","onSubmit","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","required","minLength","maxLength","placeholder","onChange","e","target","value","id","preventDefault","EditAvatarPopup","onUpdateAvatar","userAvatar","useRef","defaultValue","ref","current","AddPlacePopup","onAddPlaseSubmit","setLink","ImagePopup","state","api","options","this","_url","url","_headers","headers","data","fetch","method","Authorization","body","JSON","stringify","then","res","ok","json","Promise","reject","status","authorization","Error","_addLike","_deliteLike","all","getInitialCards","getUserInfo","localStorage","getItem","Login","handleLogin","password","setData","handleChange","htmlFor","Register","handleRegister","InfoTooltip","text","ProtectedRoute","Component","component","props","loggedIn","BASE_URL","checkResponce","withRouter","setCurrentUser","setCards","editProfileIsOpen","isEditProfilePopupOpen","addCardIsOpen","isAddPlacePopupOpen","editAvatarIsOpen","isEditAvatarPopupOpen","selectedCard","setSelectedCard","infoTooltipIsOpen","isinfoTooltipOpen","setLoggedIn","history","useHistory","closeAllPopups","getAppInfo","userInfo","cardsList","token","mestoAuth","push","catch","err","console","error","tokenCheck","log","Provider","clear","linkText","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","setItem","success","updateProfileInfo","user","updateAvatar","postNewCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6b5acfbd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.d3d4a407.svg\";","module.exports = __webpack_public_path__ + \"static/media/success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/error.4072126c.svg\";","import React from 'react';\n\nfunction Footer() {\n    return(\n        <footer className=\"footer root__content\">\n        <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { Link, Route } from 'react-router-dom';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport logo from '../images/logo.svg';\n\nfunction Header({onLinkClick}) {\n    const currentUser = React.useContext(CurrentUserContext);\n    return (\n        <header className=\"header root__content\">\n        <div className=\"header__menu\">\n            <img src={logo} alt=\"\" className=\"header__logo\"/>\n            <div className=\"header__profile\">\n                <Route path=\"/sign-up\">\n                    <Link className=\"header__link\" to=\"/sign-in\">Войти</Link>\n                </Route>\n                <Route path=\"/sign-in\">\n                    <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>\n                </Route>\n                <Route exact path=\"/\">\n                    <p className=\"header__email\">{currentUser.email}</p>\n                    <Link className=\"header__link\" to=\"/sign-in\" onClick={onLinkClick}>Выйти</Link>\n                </Route>\n            </div>\n        </div>\n        </header>\n    )\n}\n\nexport default Header","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nconst Card = ({card, onCardClick, onCardLike, onCardDelete}) => {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = (card.owner._id || card.owner) === currentUser._id;\n    const cardDeleteButtonClassName = (\n        `cards__trash ${isOwn ? '' : 'cards__trash_hidden'}`\n    );\n\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    const cardLikeButtonClassName = (\n        `cards__like ${isLiked ? 'cards__like_active' : ''}`\n    )\n\n    function handleClick() {\n        onCardClick(card);\n    }\n    \n    function handleLikeClick() {\n        onCardLike(card)\n    }\n\n    function handleDeleteClick() {\n        onCardDelete(card)\n    } \n\n    return (\n        <div className=\"cards\">\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n            <img src={`${card.link}`} alt=\"\" className=\"cards__photo\" onClick={handleClick}/>\n            <h2 className=\"cards__name\">{card.name}</h2>\n            <div className=\"cards__like-container\"> \n                <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n                <span className=\"cards__like-counter\">{card.likes.length}</span>\n            </div>\n        </div>\n    )\n}\n\nexport default Card","import React from 'react';\nimport Card from './Card.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nconst Main = ({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) => {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    \n    return(\n        <main className=\"main root__content\">\n        <section className=\"profile\">\n            <div className=\"profile__section\">\n                <div className=\"profile__avatar\" onClick={onEditAvatar}><img style={{ backgroundImage: `url(${currentUser.avatar})` }} alt=\"\" className=\"profile__image\"/></div>\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\n                <p className=\"profile__job\">{currentUser.about}</p>\n                <button className=\"profile__edit \" onClick={onEditProfile}></button>\n            </div>\n            <button className=\"profile__add\" onClick={onAddPlace}></button>\n        </section>\n        <section className=\"grid\">\n            {cards.map(item => <Card key={item._id} card={item} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>)}\n        </section>\n    </main>\n    )\n}\n\nexport default Main","import React from 'react';\n\nconst PopupWithForm = ({name, title, cildren, isOpen, onClose, onSubmit}) => {\n    return (<section className={`popup popup-${name} ${isOpen ? (\"popup_opened\"):(\"\")}`}>\n        <div className=\"popup__container\">\n            <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\n            <form className=\"popup__form\" name={name} noValidate onSubmit={onSubmit}>\n                <h3 className=\"popup__title popup__profile-title\">{title}</h3>\n                {cildren}\n                <button type=\"submit\" className=\"popup__button\">Сохранить</button>\n            </form>\n        </div>\n    </section>)\n}\n\nexport default PopupWithForm","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState(CurrentUserContext.name);\n    const [description, setDescription] = React.useState(CurrentUserContext.about);\n\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser({\n            name: name,\n            about: description\n        });\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n      }, [currentUser]); \n\n    return (\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" cildren={\n            <>\n            <label className=\"popup__label\">\n            <input type=\"text\" name=\"name\" className=\"popup__input popup__name\" required minLength=\"2\"\n                maxLength=\"40\" placeholder=\"Имя\" onChange={handleNameChange} value={name || ''}/>\n            <span id=\"name-error\" className=\"popup__error\"></span>\n            </label>\n            <label className=\"popup__label\">\n            <input type=\"text\" name=\"job\" className=\"popup__input popup__job\" required minLength=\"2\"\n                maxLength=\"200\" placeholder=\"Занятие\" onChange={handleDescriptionChange} value={description || ''}/>\n            <span id=\"job-error\" className=\"popup__error\"></span>\n            </label>\n            </>\n        } isOpen = {isOpen} onClose={onClose} onSubmit={handleSubmit}/>\n    )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const userAvatar = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar(userAvatar.current.value)\n    }\n\n    return(\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" cildren={\n            <>\n            <label className=\"popup__label\">\n                <input type=\"url\" name=\"url\" className=\"popup__input popup__avatar-links\" placeholder=\"Ссылка на аватарку\" required defaultValue={currentUser.avatar} ref={userAvatar}/>\n                <span id=\"url-error\" className=\"popup__error\"></span>\n            </label>\n            </>\n        } isOpen = {isOpen} onClose={onClose} onSubmit={handleSubmit}/>\n    )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlaseSubmit}) {\n\n    const [link, setLink] = React.useState('');\n    const [name, setName] = React.useState('');\n\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n\n    function handleLinkChange(e) {\n        setLink(e.target.value)\n    }\n    \n    function handleSubmit(e) {\n        e.preventDefault()\n        onAddPlaseSubmit(link, name);\n    }\n\n    return (\n        <PopupWithForm name=\"add\" title=\"Новое место\" cildren={\n            <>\n            <label className=\"popup__label\">\n                <input type=\"text\" name=\"mesto\" className=\"popup__input popup__mesto\" placeholder=\"Название\"\n                    required minLength=\"1\" maxLength=\"30\" onChange={handleNameChange} value={name}/>\n                <span id=\"mesto-error\" className=\"popup__error\"></span>\n            </label>\n            <label className=\"popup__label\">\n                <input type=\"url\" name=\"url\" className=\"popup__input popup__links\"\n                    placeholder=\"Ссылка на картинку\" required onChange={handleLinkChange} value={link}/>\n                <span id=\"url-error\" className=\"popup__error\"></span>\n            </label>\n            </>\n        } isOpen = {isOpen} onClose={onClose} onSubmit={handleSubmit}/>\n    )\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup({onClose, card}) {\n    return (\n        <section className={`popup popup-card ${card.state && (\"popup_opened\")}`}>\n        <div className=\"popup__form\">\n            <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\n            <figure className=\"popup__image-container\"><img src={card.src} alt=\"\" className=\"popup__image\"/>\n            <figcaption className=\"popup__image-title\">{card.name}</figcaption>\n            </figure>\n        </div>\n    </section>\n    )\n}\n\nexport default ImagePopup","class Api {\n    constructor(options) {\n        this._url = options.url\n        this._headers = options.headers\n    }\n\n    updateAvatar(data) {\n        return fetch(`${this._url}/users/me/avatar`, {\n                method: \"PATCH\",\n                headers: {\n                    Authorization: this._headers,\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({ \"avatar\": data }),\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                }\n\n                return Promise.reject(`Ошибка: ${res.status}`);\n            })\n    }\n\n    updateProfileInfo(data) {\n        return fetch(`${this._url}/users/me`, {\n                method: \"PATCH\",\n                headers: {\n                    authorization: this._headers,\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    name: `${data.name}`,\n                    about: `${data.about}`\n                }),\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                }\n\n                return Promise.reject(`Ошибка: ${res.status}`);\n            })\n    }\n\n    getUserInfo() {\n        return fetch(`${this._url}/users/me`, {\n                method: \"GET\",\n                headers: {\n                    Authorization: this._headers,\n                    'Content-Type': 'application/json'\n                }\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                }\n\n                return Promise.reject(`Ошибка: ${res.status}`);\n            })\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n                method: \"GET\",\n                headers: {\n                    Authorization: this._headers\n                }\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                }\n                return Promise.reject(new Error(`Ошибка: ${res.status}`));\n            })\n    }\n\n    postNewCard(link, name) {\n        return fetch(`${this._url}/cards`, {\n                method: \"POST\",\n                headers: {\n                    authorization: this._headers,\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({ link, name }),\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                }\n\n                return Promise.reject(`Ошибка: ${res.status}`);\n            })\n    }\n\n    deleteCard(id) {\n        return fetch(`${this._url}/cards/${id}`, {\n                method: \"DELETE\",\n                headers: {\n                    Authorization: this._headers,\n                    'Content-Type': 'application/json'\n                }\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                }\n\n                return Promise.reject(`Ошибка: ${res.status}`);\n            })\n    }\n\n    changeLikeCardStatus(id, isLiked) {\n        if (isLiked === true) {\n            return this._addLike(id);\n        } else {\n            return this._deliteLike(id);\n        }\n    }\n\n    _addLike(id) {\n        return fetch(`${this._url}/cards/${id}/likes`, {\n                method: \"PUT\",\n                headers: {\n                    Authorization: this._headers,\n                }\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                }\n\n                return Promise.reject(`Ошибка: ${res.status}`);\n            })\n    }\n    _deliteLike(id) {\n        return fetch(`${this._url}/cards/${id}/likes`, {\n                method: \"DELETE\",\n                headers: {\n                    Authorization: this._headers,\n                }\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                }\n\n                return Promise.reject(`Ошибка: ${res.status}`);\n            })\n    }\n\n    getAppInfo() {\n        return Promise.all([this.getInitialCards(), this.getUserInfo()]);\n    }\n\n    _getResponseData(data) {\n        if (data.ok) {\n            return data.json()\n        }\n    }\n}\n\nconst api = new Api({\n    url: 'https://api.daminian.students.nomoreparties.space',\n    headers: `Bearer ${localStorage.getItem('token')}`\n})\n\nexport default api","import React from 'react';\n\nfunction Login({handleLogin}) {\n\n  const [data, setData] = React.useState({\n    email: '',\n    password: ''\n  })\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]: value\n    })\n  }\n\n  function handleSubmit(e) {\n      e.preventDefault();\n      let {email, password} = data\n      handleLogin(email, password)\n    }\n\n    return (\n      <div className=\"login\">\n        <p className=\"login__welcome\">\n          Вход\n        </p>\n        <form onSubmit={handleSubmit} className=\"login__form\">\n          <input required className=\"login__input\" id=\"email\" name=\"email\" type=\"email\" value={data.email || ''} onChange={handleChange} />\n          <label htmlFor=\"email\"></label>\n          <input required className=\"login__input\" id=\"password\" name=\"password\" type=\"password\" value={data.password || ''} onChange={handleChange} />\n          <label htmlFor=\"password\"></label>\n          <div className=\"login__button-container\">\n            <button type=\"submit\" className=\"login__button\" >Войти</button>\n          </div>\n        </form>\n      </div>\n    )\n\n  }\n  \n  export default Login;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register({handleRegister}) {\n    \n  const [data, setData] = React.useState({\n    email: '',\n    password: ''\n  })\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]: value\n    })\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    let {email, password } = data\n    handleRegister(email, password)\n  }\n\n  return(\n    <div className=\"register\">\n      <p className=\"register__welcome\">\n        Регистрация\n      </p>\n      <form className=\"register__form\" onSubmit={handleSubmit}>\n        <input required className=\"register__input\" id=\"email\" name=\"email\" type=\"email\" value={data.email} onChange={handleChange} />\n        <label htmlFor=\"email\"></label>\n        <input required className=\"register__input\" id=\"password\" name=\"password\" type=\"password\" value={data.password} onChange={handleChange} />\n        <label htmlFor=\"password\"></label>\n        <div className=\"register__button-container\">\n          <button type=\"submit\" className=\"register__button\" >Зарегистрироваться</button>\n        </div>\n      </form>\n      <div className=\"register__signin\">\n        <Link to=\"/sign-in\" className=\"register__link\">Уже зарегистрированы? Войти</Link>\n      </div>\n    </div>\n  )\n}\n  \n  export default Register;","import React from 'react';\n\nconst InfoTooltip = ({isOpen, onClose}) => {\n    return (\n        <section className={`popup ${isOpen.state ? (\"popup_opened\"):(\"\")}`}>\n        <div className=\"popup__container\">\n            <div className=\"popup__form\">\n                <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\n                <img alt=\"\" className=\"popup__error-image\" src={isOpen.src}></img>\n                <p className=\"popup__text\">{isOpen.text}</p>\n            </div>\n        </div>\n        </section>\n    )\n}\n\nexport default InfoTooltip","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","export const BASE_URL = 'https://api.daminian.students.nomoreparties.space';\n\nconst checkResponce = (res) => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`)\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            \"email\": `${email}`,\n            \"password\": `${password}`})\n    })\n    .then(checkResponce)\n};\n\nexport const authorization = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            \"Content-Type\": \"application/json\" \n        },\n        body: JSON.stringify({\n            \"email\": `${email}`,\n            \"password\": `${password}`\n        })\n    })\n    .then(checkResponce)\n}\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${token}`\n        }\n    })\n    .then(checkResponce)\n}","import React from 'react';\nimport { Route, Redirect, Switch, useHistory, withRouter } from 'react-router-dom';\nimport Footer from './Footer';\nimport Header from './Header';\nimport Main from './Main';\nimport EditPofilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as mestoAuth from '../utils/mestoAuth';\nimport success from '../images/success.svg';\nimport error from '../images/error.svg';\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n  const [editProfileIsOpen , isEditProfilePopupOpen] = React.useState(false)\n  const [addCardIsOpen , isAddPlacePopupOpen] = React.useState(false)\n  const [editAvatarIsOpen , isEditAvatarPopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState({state:false, src: ''});\n  const [infoTooltipIsOpen , isinfoTooltipOpen] = React.useState({state: false, text: '', src: ''})\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const history = useHistory();\n\n  function handleCardClick(props) {\n    setSelectedCard({state: true, src: props.link, name: props.name})\n  }\n\n  function handleEditProfileClick() {\n    isEditProfilePopupOpen(true)\n  }\n\n  function handleAddCardClick() {\n    isAddPlacePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    isEditAvatarPopupOpen(true)\n  }\n\n  \n  function closeAllPopups() {\n    isEditProfilePopupOpen(false)\n    isAddPlacePopupOpen(false)\n    isEditAvatarPopupOpen(false)\n    isinfoTooltipOpen(false)\n    setSelectedCard({state:false})\n  }\n\n  function handleUpdateUser({name, about}) {\n    api.updateProfileInfo({name, about})\n    .then((user) => {\n      setCurrentUser({\n        ...currentUser,\n        name: user.data.name,\n        about: user.data.about})\n      closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err)\n    })   \n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.updateAvatar(avatar)\n    .then((avatar) => {\n     setCurrentUser({\n      ...currentUser, \n      avatar: avatar.data})\n     closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard.data : c);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  \n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n    .then(() => {\n      const newCards = cards.filter((item) => {\n        return item._id !== card._id\n      });\n        setCards(newCards);\n      })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  \n  function handleAddPlaceSubmit(link, name) {\n    api.postNewCard(link, name)\n    .then((card) => {\n      setCards([card, ...cards])\n      closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n  \n  React.useEffect(() => {\n    api.getAppInfo()\n        .then((data) => {\n            const userInfo = ({\n                name: data[1].data.name,\n                about: data[1].data.about,\n                avatar: data[1].data.avatar,\n                _id: data[1].data._id,\n                email: data[1].data.email\n            })\n            const cardsList = data[0].map((item) => ({\n              _id: item._id,\n              name: item.name,\n              likes: item.likes,\n              link: item.link,\n              owner: item.owner\n            }))\n            setCurrentUser(userInfo)\n            setCards(cardsList)\n            tokenCheck(userInfo)\n          })\n          .catch((err) => {\n            console.log(err)\n          })\n  },[])\n\n  function handleRegisterClick(email, password) {\n    console.log(email, password)\n    mestoAuth.register(email, password)\n    .then(data => {\n      if (data) {\n        setCurrentUser({\n          ...currentUser,\n          email: data.email\n        })\n        isinfoTooltipOpen({\n          state: true,\n          text: 'Вы успешно зарегистрировались!',\n          src: success\n        })\n        history.push('/sign-in')\n      }\n    })\n      .catch(err => {\n        console.log(err)\n        isinfoTooltipOpen({\n          state: true,\n          text: 'Что-то пошло не так! Попробуйте ещё раз.',\n          src: error\n        })\n      })\n    }\n    \n    function handleLoginClick(email, password) {\n      mestoAuth.authorization(email, password)\n      .then(data => {\n        if(data.token) {\n          setCurrentUser({\n            ...currentUser,\n            email: data.email\n          })\n          localStorage.setItem('token', data.token)\n          setLoggedIn(true)\n          history.push('/')\n        }\n      })\n      .catch(err => console.log(err));\n    }\n    \n    function tokenCheck(userInfo) {\n      const token = localStorage.getItem('token')\n      mestoAuth.getContent(token)\n      .then(res => {\n        if(res.data.email) {\n          setCurrentUser({\n            ...userInfo,\n            email: res.data.email\n          })\n          setLoggedIn(true)\n          history.push('/')\n        }\n      })\n      .catch(err => console.error(err))\n    }\n    \n  const handleLogoutClick = () => {\n    localStorage.clear('token')\n    setCurrentUser({\n      ...currentUser,\n      email: ''\n    })\n    setLoggedIn(false)\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <Header onLinkClick={handleLogoutClick} linkText={'Выйти'}/>\n    <Switch>\n      <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main} onEditProfile={handleEditProfileClick} onAddPlace={handleAddCardClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} \n    cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete}/>\n      <Route path=\"/sign-in\">\n        <Login handleLogin={handleLoginClick}/>\n      </Route>\n      <Route path=\"/sign-up\">\n        <Register handleRegister={handleRegisterClick}/>\n      </Route>\n      <Route>\n        {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n      </Route>\n    </Switch>\n    <Footer />\n    <EditPofilePopup isOpen={editProfileIsOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n    <EditAvatarPopup isOpen={editAvatarIsOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n    <AddPlacePopup isOpen={addCardIsOpen} onClose={closeAllPopups} onAddPlaseSubmit={handleAddPlaceSubmit}/>\n    <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n    <InfoTooltip isOpen ={infoTooltipIsOpen} onClose={closeAllPopups}/>\n  </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}